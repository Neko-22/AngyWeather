<form method="post" action="https://api.neko.hackclub.app/get-weather">
    <label>
      Place:
      <input name="place" autocomplete="place" id="place"/>
    </label>
    <button>Send</button>
</form>

<script>
    // Wait for the form to be submitted
    document.querySelector('form').addEventListener('submit', async function(event) {
      event.preventDefault(); // Prevent page refresh
  
      const place = document.getElementById('place').value; // Get the value from the input field
  
      try {
        // Make the POST request to the API
        const response = await fetch('https://api.neko.hackclub.app/get-weather', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          },
          body: new URLSearchParams({ place: place }) // Send the place as form data
        });
  
        // Parse the JSON response
        const data = await response.json();
  
        // Check if the response contains 'content' and display it
        if (data.content) {
          const resultDiv = document.createElement('div');
          resultDiv.innerText = data.content;
          document.body.appendChild(resultDiv); // Add the result to the page
        } else {
          alert('Error: No content returned from the server.');
        }
      } catch (error) {
        console.error('Error:', error);
        alert('There was an error processing your request.');
      }
    });
  </script>